
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>AI Risk-sweeper</title>
<style>
  :root {
    --brand-red: #EB003B;
    --brand-dark: #222426;
    --brand-teal: #00A3A1;
    --brand-purple: #7A3E9D;
    --brand-orange: #FF8C00;
    --brand-green: #00A652;

    --bg: #F6F7F9;
    --card: #ffffff;
    --card-border: #D9DEE7;
    --text: #1F2D3D;
    --muted: #6B778C;
  }
  * { box-sizing: border-box; }
  body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background: var(--bg); color: var(--text); margin: 0; }
  header { background: var(--brand-red); color: #fff; padding: 18px 20px; }
  header h1 { margin: 0; font-size: 24px; letter-spacing: 0.2px; }
  header p { margin: 6px 0 0; font-size: 14px; opacity: 0.92; }
  .wrap { max-width: 980px; margin: 18px auto; padding: 0 16px; }
  .hud { display: flex; gap: 12px; flex-wrap: wrap; align-items: center; justify-content: space-between; }
  .badge { display: inline-flex; align-items: center; gap: 8px; background: var(--card); border: 1px solid var(--card-border); border-radius: 12px; padding: 10px 14px; box-shadow: 0 1px 3px rgba(0,0,0,0.06); }
  .badge b { font-size: 14px; }
  .status { display:inline-flex; align-items:center; gap:8px; }
  .status .dot { width:10px; height:10px; border-radius:50%; background:#ccc; }
  .status.ready .dot { background: #00A652; }
  .btn { background: var(--brand-teal); color: #fff; border: none; border-radius: 12px; padding: 10px 14px; cursor: pointer; font-weight: 700; letter-spacing: 0.2px; }
  .btn:hover { filter: brightness(0.95); }

  /* Grid */
  .grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px; margin-top: 16px; }
  .grid.locked .tile { opacity: 0.5; cursor: not-allowed; }
  .tile { position: relative; background: var(--card); border: 1px solid var(--card-border); border-radius: 14px; min-height: 92px; padding: 14px; text-align: center; cursor: pointer; box-shadow: 0 1px 3px rgba(0,0,0,0.06); transition: transform 0.08s ease-in-out, box-shadow 0.2s; }
  .tile:hover { transform: translateY(-1px); box-shadow: 0 6px 12px rgba(0,0,0,0.08); }
  .tile span { display:block; font-weight: 700; font-size: 14px; color: var(--muted); letter-spacing: 0.2px; }
  .tile.revealed span { color: var(--text); }
  .tile.revealed.safe { background: #ECF7FF; border-color: #CFE4FF; }
  .tile.revealed.risk { background: linear-gradient(180deg, #FFF0F3 0%, #FFDDE6 100%); border-color: #FFB9C8; box-shadow: 0 0 0 3px rgba(235,0,59,0.14), 0 10px 20px rgba(235,0,59,0.12); }

  /* Panel */
  .panel { margin-top: 18px; background: var(--card); border: 2px solid var(--brand-red); border-radius: 14px; padding: 16px; box-shadow: 0 8px 24px rgba(0,0,0,0.08); display:none; }
  .panel h3 { margin: 0 0 4px; font-size: 18px; color: var(--brand-red); }
  .panel p { margin: 8px 0; color: var(--text); font-size: 14px; }
  .scenario { display: grid; grid-template-columns: 120px 1fr; gap: 12px; align-items: start; margin-top: 8px; }
  .scenario .imgbox { background:#FFF5F6; border:1px solid #FFD0D6; border-radius:12px; padding:8px; display:flex; align-items:center; justify-content:center; }
  .scenario svg { width: 90px; height: 90px; }
  .scenario .text { font-size:14px; color:var(--text); }
  .scenario .text b { color:var(--brand-dark); }

  .actions { margin-top: 12px; }
  .actions .hint { font-size:12px; color:var(--muted); margin-bottom:6px; }
  .checklist { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
  .checklist label { background:#FAFBFC; border:1px solid var(--card-border); border-radius:10px; padding:10px; display:flex; gap:8px; align-items:center; cursor:pointer; }
  .checklist input[type=checkbox] { width:16px; height:16px; }
  .panel-buttons { display:flex; gap:8px; margin-top:10px; }
  .btn.secondary { background:#fff; color:var(--brand-teal); border:2px solid var(--brand-teal); }
  .action.ignore { background: #FFF3F3; border-color: #FFC9C9; color: #C40030; font-weight: 800; }

  .toast { position: fixed; bottom: 18px; left: 50%; transform: translateX(-50%); background: #111827; color: #fff; padding: 10px 14px; border-radius: 10px; font-size: 14px; box-shadow: 0 6px 16px rgba(0,0,0,0.2); display: none; }

  /* Modals */
  .modal-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,0.45); display: none; align-items: center; justify-content: center; }
  .modal { background: var(--card); border-radius: 18px; border: 1px solid var(--card-border); max-width: 560px; width: calc(100% - 32px); padding: 20px 22px; text-align: center; box-shadow: 0 14px 40px rgba(0,0,0,0.25); }
  .modal h2 { margin: 0; font-size: 22px; color: var(--brand-red); }
  .modal p { margin: 10px 0 18px; color: var(--text); }
  .modal .btn { background: var(--brand-red); }
  .modal .tips { text-align:left; background:#FAFBFC; border:1px solid var(--card-border); border-radius:10px; padding:10px; font-size:13px; }

  .confetti { position: fixed; pointer-events: none; inset: 0; display:none; }
  .confetti span { position: absolute; width: 10px; height: 10px; opacity: 0.9; }

  .pill { display:inline-block; padding:4px 10px; border-radius:999px; font-weight:700; font-size:12px; }
  .pill.value{background:#FFE8C2;color:#663C00;border:1px solid #FFC777}
  .pill.compliance{background:#C2F5EF;color:#004640;border:1px solid #8CE7DA}
  .pill.safety{background:#FFD9E1;color:#5A0017;border:1px solid #FFB3C5}
  .legend { display:flex; gap:8px; flex-wrap:wrap; margin-top:8px; }
  .legend div { background:#fff; border:1px solid var(--card-border); border-radius:10px; padding:6px 10px; font-size:12px; }

  noscript { display:block; margin:16px; padding:12px; background:#fff3cd; border:1px solid #ffeeba; border-radius:10px; color:#856404; }
</style>
</head>
<body>
<header>
  <h1>PLAY: AI Risk Minesweeper</h1>
  <p>Tap tiles. If you hit a real‑world risk, choose the best actions. You have <b>3 lives</b>. Collect <span class="pill value">Value</span> <span class="pill compliance">Compliance</span> <span class="pill safety">Safety</span> stamps to unlock Trusted AI.</p>
</header>
<div class="wrap">
  <div class="hud">
    <div class="badge"><b>Lives:</b> <span id="lives">3</span></div>
    <div class="badge"><b>Stamps:</b> <span id="stamps">0 / 3</span></div>
    <div class="badge"><b>Safe tiles left:</b> <span id="safeLeft">-</span></div>
    <div class="status" id="status"><span class="dot"></span><span id="statusText">Loading…</span></div>
    <button class="btn" id="resetBtn" aria-label="New round">New round</button>
  </div>
  <div class="legend">
    <div>Risks focus on people and trust (no technical jargon): fairness at work, customer trust, privacy, vendor alignment, and incident readiness.</div>
  </div>

  <div class="grid" id="grid" aria-label="Game grid"></div>

  <div class="panel" id="panel" aria-live="polite">
    <h3 id="riskTitle">Risk:</h3>
    <div class="scenario">
      <div class="imgbox" id="riskImg"></div>
      <div class="text" id="riskStory"></div>
    </div>
    <div class="actions">
      <div class="hint">Choose all actions that apply. Selecting a poor action will cost a life.</div>
      <div class="checklist" id="checklist"></div>
      <div class="panel-buttons">
        <button class="btn" id="applyActions">Apply selected actions</button>
        <button class="btn secondary action ignore" id="ignoreBtn">Ignore risk (lose 1 life)</button>
      </div>
    </div>
  </div>

  <div class="footer" style="margin:18px 0 32px; color:var(--muted); font-size:12px;">Runs locally in your browser. No data collected.</div>
</div>
<div class="toast" id="toast" role="status" aria-live="polite"></div>

<!-- Win Modal -->
<div class="modal-backdrop" id="winBackdrop" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="modal" role="document">
    <h2>Way to go!</h2>
    <p>You are on your way to having a <b>valuable</b> and <b>responsible</b> AI.<br/>Trusted AI unlocked — Value • Compliance • Safety.</p>
    <button class="btn" id="closeWin">Continue</button>
  </div>
</div>

<!-- Wrong Direction Modal -->
<div class="modal-backdrop" id="wrongBackdrop" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="modal" role="document">
    <h2>Your AI might be going in the wrong direction</h2>
    <p>Ignoring risks or choosing poor actions can undermine value and responsibility.</p>
    <div class="tips"><b>Try this:</b> ask for help and adopt one control now — Balanced workload checks, customer correction path, privacy guardrails, vendor due diligence, or a simple incident playbook.</div>
    <button class="btn" id="closeWrong">Got it</button>
  </div>
</div>

<!-- Loss Modal -->
<div class="modal-backdrop" id="lossBackdrop" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="modal" role="document">
    <h2>Mitigation failed</h2>
    <p>You ran out of lives and <b>failed to mitigate risks</b> for your AI.</p>
    <div class="tips"><b>Next step:</b> set up a clear incident owner, add privacy guardrails, establish a customer correction path, and align vendor AI with Equinor values. Then try again.</div>
    <button class="btn" id="closeLoss">Try again</button>
  </div>
</div>

<!-- Confetti -->
<div class="confetti" id="confetti"></div>

<noscript>
  JavaScript is disabled or blocked. Enable JavaScript to play. The tiles are visible but need JS to work.
</noscript>

<script>
const statusEl = document.getElementById('status');
const statusText = document.getElementById('statusText');
function setReady(){ statusEl.classList.add('ready'); statusText.textContent = 'Ready'; }

// Scenario-based risks (leader-friendly)
const SCENARIOS = [
  {
    key: 'employee_fairness',
    title: 'Fairness at Work',
    story: 'An employee was denied a training opportunity because the AI made a decision using incomplete information.',
    category: 'value',
    svg: `<svg viewBox='0 0 64 64' xmlns='http://www.w3.org/2000/svg'><circle cx='32' cy='32' r='30' fill='#FFCDD2'/><path d='M32 18a8 8 0 110 16 8 8 0 010-16zm-16 28c0-8 16-8 16-8s16 0 16 8v4H16v-4z' fill='#C2185B'/></svg>`,
    actions: [
      {text:'Review and update decision data regularly', correct:true},
      {text:'Offer an appeal path for AI decisions', correct:true},
      {text:'Ignore complaints to keep speed', correct:false},
      {text:'Let the AI decide without human oversight', correct:false}
    ]
  },
  {
    key: 'customer_trust',
    title: 'Customer Trust',
    story: 'A customer received an incorrect bill due to an AI error, causing frustration and loss of trust.',
    category: 'value',
    svg: `<svg viewBox='0 0 64 64' xmlns='http://www.w3.org/2000/svg'><rect x='8' y='12' width='48' height='40' rx='6' fill='#FFE0B2'/><path d='M16 20h32v4H16zm0 10h24v4H16zm0 10h18v4H16z' fill='#F57C00'/></svg>`,
    actions: [
      {text:'Set up regular checks on AI outputs', correct:true},
      {text:'Provide a simple correction path for customers', correct:true},
      {text:'Blame the customer for the error', correct:false},
      {text:'Disable all reviews to save effort', correct:false}
    ]
  },
  {
    key: 'privacy_guardrails',
    title: 'Privacy Guardrails',
    story: 'Sensitive employee information was shared by mistake because the AI didn\'t recognize privacy boundaries.',
    category: 'safety',
    svg: `<svg viewBox='0 0 64 64' xmlns='http://www.w3.org/2000/svg'><path d='M32 8l20 10v12c0 11-8 20-20 22-12-2-20-11-20-22V18L32 8z' fill='#C5E1A5'/><path d='M32 24a8 8 0 00-8 8v6h16v-6a8 8 0 00-8-8z' fill='#558B2F'/></svg>`,
    actions: [
      {text:'Limit access to sensitive information', correct:true},
      {text:'Add privacy guardrails to the AI', correct:true},
      {text:'Share more data to increase accuracy', correct:false},
      {text:'Skip privacy checks to move faster', correct:false}
    ]
  },
  {
    key: 'workloads_balance',
    title: 'Balanced Workloads',
    story: 'An AI scheduling tool created unfair workloads, leading to stress and burnout in one team.',
    category: 'safety',
    svg: `<svg viewBox='0 0 64 64' xmlns='http://www.w3.org/2000/svg'><rect x='8' y='12' width='48' height='40' rx='6' fill='#BBDEFB'/><path d='M18 22h10v10H18zm18 0h10v10H36zm-18 16h10v10H18zm18 0h10v10H36z' fill='#1976D2'/></svg>`,
    actions: [
      {text:'Monitor and adjust workloads regularly', correct:true},
      {text:'Enable team feedback on schedules', correct:true},
      {text:'Accept burnout as the cost of progress', correct:false},
      {text:'Hide schedules to prevent questions', correct:false}
    ]
  },
  {
    key: 'vendor_values',
    title: 'Vendor Alignment',
    story: 'A third‑party AI tool made decisions that conflicted with our values, affecting morale.',
    category: 'compliance',
    svg: `<svg viewBox='0 0 64 64' xmlns='http://www.w3.org/2000/svg'><circle cx='20' cy='32' r='12' fill='#E1BEE7'/><circle cx='44' cy='32' r='12' fill='#BA68C8'/><path d='M20 32h24' stroke='#6A1B9A' stroke-width='4'/></svg>`,
    actions: [
      {text:'Run a vendor Responsible AI questionnaire', correct:true},
      {text:'Check the tool aligns with our values', correct:true},
      {text:'Assume the vendor handles everything', correct:false},
      {text:'Use the tool without any review', correct:false}
    ]
  },
  {
    key: 'incident_ready',
    title: 'Incident Readiness',
    story: 'When the AI made a mistake, no one knew what to do, creating confusion and delay.',
    category: 'compliance',
    svg: `<svg viewBox='0 0 64 64' xmlns='http://www.w3.org/2000/svg'><rect x='10' y='10' width='44' height='44' rx='8' fill='#FFE4E6'/><path d='M32 18l14 24H18z' fill='#D32F2F'/></svg>`,
    actions: [
      {text:'Assign a clear owner for AI incidents', correct:true},
      {text:'Create a simple path to report issues', correct:true},
      {text:'Keep incidents informal and untracked', correct:false},
      {text:'Wait for someone to notice and react', correct:false}
    ]
  }
];

let lives = 3;
let stamps = { value:false, compliance:false, safety:false };
let revealedSafe = 0;
let totalSafe = 0;
let gridSize = 5;
let riskCount = 6;
let board = [];
let badDecisions = 0;
let riskActive = false;
let currentScenario = null;

const gridEl = document.getElementById('grid');
const livesEl = document.getElementById('lives');
const stampsEl = document.getElementById('stamps');
const safeLeftEl = document.getElementById('safeLeft');
const panelEl = document.getElementById('panel');
const riskTitleEl = document.getElementById('riskTitle');
const riskImgEl = document.getElementById('riskImg');
const riskStoryEl = document.getElementById('riskStory');
const checklistEl = document.getElementById('checklist');
const applyBtn = document.getElementById('applyActions');
const ignoreBtn = document.getElementById('ignoreBtn');
const toastEl = document.getElementById('toast');
const confettiEl = document.getElementById('confetti');
const winBackdrop = document.getElementById('winBackdrop');
const closeWin = document.getElementById('closeWin');
const wrongBackdrop = document.getElementById('wrongBackdrop');
const closeWrong = document.getElementById('closeWrong');
const lossBackdrop = document.getElementById('lossBackdrop');
const closeLoss = document.getElementById('closeLoss');

function toast(msg, ms=2000){ toastEl.textContent = msg; toastEl.style.display = 'block'; setTimeout(()=>toastEl.style.display='none', ms); }
function randomPick(arr, n){ const copy=[...arr]; const out=[]; while(out.length<n && copy.length){ const i=Math.floor(Math.random()*copy.length); out.push(copy.splice(i,1)[0]); } return out; }

function ensureTiles(){ gridEl.innerHTML=''; for(let i=0;i<25;i++){ const t=document.createElement('button'); t.type='button'; t.className='tile'; t.setAttribute('data-index', i); const span=document.createElement('span'); span.textContent='Tap'; t.appendChild(span); gridEl.appendChild(t);} }

function init(){ setReady(); ensureTiles(); lives=3; stamps={value:false, compliance:false, safety:false}; revealedSafe=0; badDecisions=0; board=[]; riskActive=false; currentScenario=null; checklistEl.innerHTML=''; panelEl.style.display='none'; gridEl.classList.remove('locked'); hideWin(); hideWrong(); hideLoss();
  const chosen = randomPick(SCENARIOS, riskCount);
  const totalTiles = gridSize*gridSize;
  const riskPositions = new Set(); while(riskPositions.size < riskCount){ riskPositions.add(Math.floor(Math.random()*totalTiles)); }
  for(let i=0;i<totalTiles;i++){ const isRisk=riskPositions.has(i); board.push({ risk:isRisk, revealed:false, riskKey:null }); }
  let idx=0; for(let i=0;i<board.length;i++){ if(board[i].risk){ board[i].riskKey = chosen[idx % chosen.length].key; idx++; } }
  totalSafe = totalTiles - riskCount; render(); }

function render(){ livesEl.textContent=lives; const stampCount=(stamps.value?1:0)+(stamps.compliance?1:0)+(stamps.safety?1:0); stampsEl.textContent=`${stampCount} / 3`; safeLeftEl.textContent=(totalSafe - revealedSafe); if(riskActive){ gridEl.classList.add('locked'); } else { gridEl.classList.remove('locked'); }
  const tiles = Array.from(gridEl.querySelectorAll('.tile'));
  tiles.forEach((t,i)=>{ const cell=board[i]; t.classList.remove('revealed','safe','risk'); const span=t.querySelector('span'); if(cell.revealed){ t.classList.add('revealed'); if(cell.risk){ t.classList.add('risk'); span.textContent='RISK ⚠️'; } else { t.classList.add('safe'); span.textContent='SAFE ✅'; } } else { span.textContent='Tap'; } t.onclick=()=>onTile(i); }); }

function findScenario(key){ return SCENARIOS.find(s=>s.key===key); }

function onTile(i){ if(riskActive){ lives--; badDecisions++; livesEl.textContent=lives; toast('Answer the current risk before continuing — life lost for ignoring.'); checkWrongDirection(); if(lives<=0){ showLoss(); } return; }
  const cell=board[i]; if(cell.revealed || lives<=0) return; cell.revealed=true;
  if(cell.risk){ riskActive=true; render(); const sc=findScenario(cell.riskKey) || randomPick(SCENARIOS,1)[0]; currentScenario=sc; riskTitleEl.textContent = sc.title; riskImgEl.innerHTML = sc.svg; riskStoryEl.textContent = sc.story; checklistEl.innerHTML='';
    // Build multi-select checklist (shuffle)
    const opts = [...sc.actions]; for(let j=opts.length-1;j>0;j--){ const k=Math.floor(Math.random()*(j+1)); [opts[j],opts[k]]=[opts[k],opts[j]]; }
    opts.forEach((act,idx)=>{ const id=`act_${idx}`; const wrap=document.createElement('label'); const cb=document.createElement('input'); cb.type='checkbox'; cb.value=act.text; cb.setAttribute('data-correct', act.correct? 'true':'false'); cb.id=id; const span=document.createElement('span'); span.textContent=act.text; wrap.appendChild(cb); wrap.appendChild(span); checklistEl.appendChild(wrap); });
    panelEl.style.display='block';
  } else { revealedSafe++; panelEl.style.display='none'; checkWin(); }
  render(); }

applyBtn.addEventListener('click', ()=>{ if(!riskActive || !currentScenario) return; const boxes = Array.from(checklistEl.querySelectorAll('input[type=checkbox]')); const selected = boxes.filter(b=>b.checked); if(selected.length===0){ toast('Select at least one action.'); return; }
  const anyWrong = selected.some(b=>b.getAttribute('data-correct')==='false'); const anyRight = selected.some(b=>b.getAttribute('data-correct')==='true');
  if(anyWrong || !anyRight){ lives--; badDecisions++; livesEl.textContent=lives; toast('Not enough — poor actions cost a life.'); riskActive=false; panelEl.style.display='none'; checkWrongDirection(); if(lives<=0){ showLoss(); } render(); return; }
  // success
  toast('Good call — actions applied.'); awardStampForCategory(currentScenario.category); riskActive=false; panelEl.style.display='none'; checkWin(); render(); });

ignoreBtn.addEventListener('click', ()=>{ if(!riskActive) return; lives--; badDecisions++; livesEl.textContent=lives; toast('Risk ignored — life lost and stamp not collected.'); riskActive=false; panelEl.style.display='none'; checkWrongDirection(); if(lives<=0){ showLoss(); } render(); });

function awardStampForCategory(cat){ if(cat==='value') stamps.value=true; if(cat==='compliance') stamps.compliance=true; if(cat==='safety') stamps.safety=true; }
function checkWin(){ const stampCount=(stamps.value?1:0)+(stamps.compliance?1:0)+(stamps.safety?1:0); if(stampCount===3){ showWin(); } }
function checkWrongDirection(){ if(badDecisions>=3){ showWrong(); } }

function showWin(){ winBackdrop.style.display='flex'; winBackdrop.setAttribute('aria-hidden','false'); confettiEl.innerHTML=''; const colors=['#EB003B','#00A3A1','#7A3E9D','#FF8C00','#00A652']; for(let i=0;i<80;i++){ const s=document.createElement('span'); s.style.background=colors[i%colors.length]; s.style.left=Math.random()*100 + 'vw'; s.style.top='-10px'; s.style.opacity=0.9; const duration=2000+Math.random()*2000; const delay=Math.random()*400; s.style.transform='rotate(' + (Math.random()*360) + 'deg)'; s.animate([{ transform:s.style.transform, top:'-10px' },{ transform:'rotate(' + (Math.random()*360) + 'deg)', top:'105vh' }], { duration, delay, easing:'ease-in' }); confettiEl.appendChild(s);} confettiEl.style.display='block'; }
function showWrong(){ wrongBackdrop.style.display='flex'; wrongBackdrop.setAttribute('aria-hidden','false'); }
function hideWrong(){ wrongBackdrop.style.display='none'; wrongBackdrop.setAttribute('aria-hidden','true'); }
function showLoss(){ lossBackdrop.style.display='flex'; lossBackdrop.setAttribute('aria-hidden','false'); }
function hideLoss(){ lossBackdrop.style.display='none'; lossBackdrop.setAttribute('aria-hidden','true'); }
function hideWin(){ winBackdrop.style.display='none'; winBackdrop.setAttribute('aria-hidden','true'); confettiEl.style.display='none'; }

closeWin.addEventListener('click', hideWin);
closeWrong.addEventListener('click', hideWrong);
closeLoss.addEventListener('click', ()=>{ hideLoss(); init(); });

document.getElementById('resetBtn').onclick = ()=>{ init(); toast('New round'); };

// Start
init();
</script>
</body>
</html>
